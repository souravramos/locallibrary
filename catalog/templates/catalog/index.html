{% extends 'catalog/base_generic.html' %}

{% block title %}
	<title>Second Hand Books Library</title>
{% endblock %}

{% block content %}
	<div class='home-content'>
		<div class='search-bar mt-sm-2 mr-2' >
			<form method='get'>
				<input type="text" class='form-control' name="q" id='id_q' placeholder="Search Here...">
			</form>
		</div>

		{% if submitbutton == 'Search' and request.GET.q != '' %}
		{% if results %}
			<h1>Results for <b>{{ request.GET.q }}</b></h1>
			<br/><br/>

			{% for result in results %}

			{{result.title}}
			<br/>

			{{result.summary}}
			<br/>

		{% endfor %}
		{% else %}
		No search results for this query
		{% endif %}
		{% endif %}




		<h1>Local Library Home</h1>
		<p>Welcome to LocalLibrary, a website developed by <em>Sourav Chavan</em>!</p>
		<h2>Dynamic Content</h2>
		<p>The library has the following record counts:</p>
		<ul>
			<li><strong>Books:</strong> {{ num_books }}</li>
			<li><strong>Copies:</strong> {{ num_instances }}</li>
			<li><strong>Copies Available:</strong> {{ num_instances_available }}</li>
			<li><strong>Authors:</strong> {{ num_authors }}</li>
			<li><strong>Languages:</strong> {{ num_languages }}</li>
			<li><strong>Genres:</strong> {{ num_genres }}</li>
		</ul>
	</div>
	<p>You have visited this page {{ num_visits }}{% if num_visits == 1 %} time{% else %} times{% endif %}.</p>

	<script type="text/javascript">
		document.getElementById('id_q').value = '{{ query }}'
	</script>
{% endblock %}